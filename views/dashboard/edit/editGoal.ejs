<!-- 
 * Name : Arewa (Morountudun) Ojelade
 * Date : 3/4/2025
 * File Name: editGoal.ejs
 * Course : CMSC 495 Capstone in Computer Science
 * Project : Budgetier Capstone Project
 * Description : The purpose of the editGoal.ejs file is to display
 * execute appropriate logic in accordance with passed locals to 
 * edit a parameterized goal element id.
-->
<div class="d-flex justify-content-between flex-wrap flex-md nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1><%= info.name%></h1>
    <div class="btn-toolbar mb-2 mb-md 0">
    </div>
</div>

<div class="col py-3">
    <div class="row">
        <div class="col">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
                    <li class="breadcrumb-item"><a href="/budgets">Goals</a></li>
                </ol>
            </nav>
        </div>
        <div class="col text-end fw-lighter">
            <b>Last Updated : <%= new Date(locals.element.updatedAt).toUTCString() %></b><br>  
            <b>Goal ID : <%= locals.element._id %></b>   
        </div>
        

        <form action = "/editGoal/<%= locals.element._id %>" method = "POST">
            <%- include('./editForm.ejs',locals) %>
        </form>
        
        <div class="modal fade" tabindex="-1" role="dialog" id="deleteModal">
            <div class="modal-dialog" role = "document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="modal-title">You are about to delete a <%= info.page%> record </div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" arial-label="close"></button>
                    </div>
                    <div class="modal-body">
                        <p>
                        <%= info.page %> record will be deleted.
                        <b class = "fw-bold"><%=info.page%>ID : <%=locals.element._id%></b><br>
                        Are you sure?
                        </p>
                    </div>
                    <div class = "modal-footer">
                        <button type="button" class = "btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <form action="/edit/<%= locals.element._id %>?_method=DELETE" method = "POST" class = "position-relative">
                            <button type = "submit" class = "btn btn-primary">Yes, Remove <%= info.page %></button>
                        </form>
                    </div>
                </div>
            </div>
         </div>


         
    </div>
</div>